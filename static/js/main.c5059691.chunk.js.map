{"version":3,"sources":["components/Button.js","components/Input.js","logic/operate.js","components/Output.js","components/Calculator.js","logic/calculate.js","App.js","index.js"],"names":["Button","props","handleClick","bind","this","clickHandler","name","operator","className","spanning","onClick","type","join","trim","React","Component","defaultProps","PropTypes","func","Input","buttonName","operate","numberOne","numberTwo","operation","one","Big","two","plus","toString","minus","times","div","err","message","Error","Output","state","value","Calculator","total","next","setState","prevState","obj","match","result","includes","parseFloat","calculate","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5059691.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Button extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const { clickHandler, name } = this.props;\n    clickHandler(name);\n  }\n\n  render() {\n    const { name, operator, spanning } = this.props;\n    const className = ['input-btn', spanning ? 'spanning' : '', operator ? 'operator' : '',\n    ];\n    return (\n      <button onClick={this.handleClick} type=\"button\" className={className.join(' ').trim()}>{name}</button>\n    );\n  }\n}\n\nButton.propTypes = {\n  name: PropTypes.string,\n  clickHandler: PropTypes.func,\n  operator: PropTypes.bool,\n  spanning: PropTypes.bool,\n};\n\nButton.defaultProps = {\n  name: '',\n  clickHandler: PropTypes.func,\n  operator: false,\n  spanning: false,\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from './Button';\n\nclass Input extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(buttonName) {\n    const { clickHandler } = this.props;\n    clickHandler(buttonName);\n  }\n\n  render() {\n    return (\n      <div className=\"buttons-grid\">\n        <Button clickHandler={this.handleClick} name=\"AC\" />\n        <Button clickHandler={this.handleClick} name=\"+/-\" />\n        <Button clickHandler={this.handleClick} name=\"%\" />\n        <Button clickHandler={this.handleClick} operator name=\"รท\" />\n        <Button clickHandler={this.handleClick} name=\"7\" />\n        <Button clickHandler={this.handleClick} name=\"8\" />\n        <Button clickHandler={this.handleClick} name=\"9\" />\n        <Button clickHandler={this.handleClick} operator name=\"x\" />\n        <Button clickHandler={this.handleClick} name=\"4\" />\n        <Button clickHandler={this.handleClick} name=\"5\" />\n        <Button clickHandler={this.handleClick} name=\"6\" />\n        <Button clickHandler={this.handleClick} operator name=\"-\" />\n        <Button clickHandler={this.handleClick} name=\"1\" />\n        <Button clickHandler={this.handleClick} name=\"2\" />\n        <Button clickHandler={this.handleClick} name=\"3\" />\n        <Button clickHandler={this.handleClick} operator name=\"+\" />\n        <Button clickHandler={this.handleClick} spanning name=\"0\" />\n        <Button clickHandler={this.handleClick} name=\".\" />\n        <Button clickHandler={this.handleClick} operator name=\"=\" />\n      </div>\n    );\n  }\n}\n\nInput.propTypes = {\n  clickHandler: PropTypes.func,\n};\n\nInput.defaultProps = {\n  clickHandler: null,\n};\n\nexport default Input;\n","import Big from 'big.js';\n\nexport default function operate(numberOne, numberTwo, operation) {\n  const one = Big(numberOne || '0');\n  const two = Big(numberTwo || (operation === 'รท' || operation === 'x' ? '1' : '0')); // If dividing or multiplying, then 1 maintains current value in cases of null\n  if (operation === '+') {\n    return one.plus(two).toString();\n  }\n  if (operation === '-') {\n    return one.minus(two).toString();\n  }\n  if (operation === 'x') {\n    return one.times(two).toString();\n  }\n  if (operation === 'รท') {\n    try {\n      return one.div(two).toString();\n    } catch (err) {\n      return err.message;\n    }\n  }\n  throw Error(`Unknown operation '${operation}'`);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Output extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  render() {\n    const { value } = this.props;\n    return (\n      <div className=\"output\">\n        <span>{value}</span>\n      </div>\n    );\n  }\n}\n\nOutput.propTypes = {\n  value: PropTypes.string,\n};\n\nOutput.defaultProps = {\n  value: '',\n};\n\nexport default Output;\n","import React from 'react';\nimport Input from './Input';\nimport calculate from '../logic/calculate';\nimport Output from './Output';\n\nexport default class Calculator extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      total: null,\n      next: null,\n      operation: null,\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(buttonName) {\n    this.setState((prevState) => calculate(prevState, buttonName));\n  }\n\n  render() {\n    const { next, total, operation } = this.state;\n    return (\n      <div className=\"calculator\">\n        <Output value={next || total || operation || '0'} />\n        <Input clickHandler={this.handleClick} />\n      </div>\n    );\n  }\n}\n","import Big from 'big.js';\nimport operate from './operate';\n\nfunction isNumber(item) {\n  return !!item.match(/[0-9]+/);\n}\n\n/**\n * Given a button name and a calculator data object, return an updated\n * calculator data object.\n *\n * Calculator data object contains:\n *   total:String      the running total\n *   next:String       the next number to be operated on with the total\n *   operation:String  +, -, etc.\n */\nexport default function calculate(obj, buttonName) {\n  if (buttonName === 'AC') {\n    return {\n      total: null,\n      next: null,\n      operation: null,\n    };\n  }\n\n  if (isNumber(buttonName)) {\n    if (buttonName === '0' && obj.next === '0') {\n      return {};\n    }\n    // If there is an operation, update next\n    if (obj.operation) {\n      if (obj.next) {\n        return { next: obj.next + buttonName };\n      }\n      return { next: buttonName };\n    }\n    // If there is no operation, update next and clear the value\n    if (obj.next) {\n      const next = obj.next === '0' ? buttonName : obj.next + buttonName;\n      return {\n        next,\n        total: null,\n      };\n    }\n    return {\n      next: buttonName,\n      total: null,\n    };\n  }\n\n  if (buttonName === '%') {\n    if (obj.operation && obj.next) {\n      const result = operate(obj.total, obj.next, obj.operation);\n      return {\n        total: Big(result)\n          .div(Big('100'))\n          .toString(),\n        next: null,\n        operation: null,\n      };\n    }\n    if (obj.next) {\n      return {\n        next: Big(obj.next)\n          .div(Big('100'))\n          .toString(),\n      };\n    }\n    return {};\n  }\n\n  if (buttonName === '.') {\n    if (obj.next) {\n      // ignore a . if the next number already has one\n      if (obj.next.includes('.')) {\n        return {};\n      }\n      return { next: `${obj.next}.` };\n    }\n    return { next: '0.' };\n  }\n\n  if (buttonName === '=') {\n    if (obj.next && obj.operation) {\n      return {\n        total: operate(obj.total, obj.next, obj.operation),\n        next: null,\n        operation: null,\n      };\n    }\n    // '=' with no operation, nothing to do\n    return {};\n  }\n\n  if (buttonName === '+/-') {\n    if (obj.next) {\n      return { next: (-1 * parseFloat(obj.next)).toString() };\n    }\n    if (obj.total) {\n      return { total: (-1 * parseFloat(obj.total)).toString() };\n    }\n    return {};\n  }\n\n  // Button must be an operation\n\n  // When the user presses an operation button without having entered\n  // a number first, do nothing.\n  // if (!obj.next && !obj.total) {\n  //   return {};\n  // }\n\n  // User pressed an operation button and there is an existing operation\n  if (obj.operation) {\n    return {\n      total: operate(obj.total, obj.next, obj.operation),\n      next: null,\n      operation: buttonName,\n    };\n  }\n\n  // no operation yet, but the user typed one\n\n  // The user hasn't typed a number yet, just save the operation\n  if (!obj.next) {\n    return { operation: buttonName };\n  }\n\n  // save the operation and shift 'next' into 'total'\n  return {\n    total: obj.next,\n    next: null,\n    operation: buttonName,\n  };\n}\n","import React from 'react';\nimport Calculator from './components/Calculator';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>\n            Math Magicians\n          </h1>\n        </header>\n        <Calculator />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/css/style.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}